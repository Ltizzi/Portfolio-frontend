<div  class="seccion" @zoomInDown>
    <h1 color="accent" class="text-center seccion-title">
     Proyectos
    </h1>
</div>
<div class="container-fluid row">
    <div class="col-md-1"></div>
    <div class="col-md-10">
        <div class="todo" @fadeReallySlow>
    
            <div  @fadeslow>
                <button *ngIf="isAdmin()" class="btn btn-warning create" (click)="callEditorCreate()" title="Crear nueva entrada">
                    Agregar nuevo proyecto
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                      </svg>
                </button>
                
                <div class="tarjeta" @fade *ngIf="editorCreate">
                    <form #form="ngForm" (ngSubmit)="submitForm(form, 0)">
                
                        <div>
                            <div class="form-group row">
        
                                <div class="col-sm-3 form-data">
                                    <label for="nombre">Nombre:</label>
                                                <input
                                                    [attr.required]="postOrPatch ? postOrPatch: null"
                                                    minlength="5"
                                                    maxlength="15"
                                                    type="text"
                                                    ngModel
                                                   
                                                    name="nombre"
                                                    #nombre="ngModel"
                                                    id="nombre"
                                                    class="form-control">
                                                <div 
                                                    class="alert alert-danger" 
                                                    *ngIf="nombre.touched && !nombre.valid">
                                                <div *ngIf="nombre.errors?.['required']">
                                                    Debe introducir el nombre</div>
                                                <div *ngIf="nombre.errors?.['minlength']">
                                                    El nombre debe tener un míńimo de {{ nombre.errors?.['minlength'].requiredLength }} caracteres</div>
                                                 <div *ngIf="nombre.errors?.['pattern']">
                                                    El nombre sólo debe tener letras del alfabeto</div>
                                                </div>
                                </div>
            
                                
            
                                
            
                            
            
                            </div>
                            <br>
            
                            <div class="form-group row">
            
                                <div class="form-group col-sm-4">
                                    <label for="fecha_inicio">Fecha de inicio</label>
                                    <input
                                        [attr.required]="postOrPatch ? postOrPatch: null"
                                        class="form-control form-data fecha" 
                                        type="date"
                                        ngModel
                                        pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"    
                                        name="fecha_inicio"                                                                       
                                        #fecha_inicio="ngModel"
                                        id="fecha_inicio">
                                </div>
            
                                
            
                                
                                
                            </div>
                            <br>
            
                            <div class="form-group col-sm-3">
                                <label for="url">URL:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url"
                                        #url="ngModel"
                                        id="url"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_img_1">Foto 1:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_img_1"
                                        #url_img_1="ngModel"
                                        id="url_img_1"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_img_2">Foto 2:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_img_2"
                                        #url_img_2="ngModel"
                                        id="url_img_2"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_img_3">Foto 3:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_img_3"
                                        #url_img_3="ngModel"
                                        id="url_img_3"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_img_4">Foto 4:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_img_4"
                                        #url_img_4="ngModel"
                                        id="url_img_4"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_img_4">Foto 4:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_img_4"
                                        #url_img_4="ngModel"
                                        id="url_img_4"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_github_1">URL github:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_github_1"
                                        #url_github_1="ngModel"
                                        id="url_github_1"
                                        type="text">
                            </div>
            
                            <div class="form-group col-sm-3">
                                <label for="url_github_2">URL github alternativo:</label>
                                <input
                                        [attr.required]="postOrPatch ? postOrPatch: null" 
                                        ngModel
                                        class="form-control form-url"
                                        name="url_github_2"
                                        #url_github_2="ngModel"
                                        id="url_github_2"
                                        type="text">
                            </div>
            
                            <div class="form-group">
                                <label for="about">Descripción del proyecto:</label>
                                <textarea
                                    [attr.required]="postOrPatch ? postOrPatch: null"  
                                    ngModel 
                                    name="about" 
                                    id="about" 
                                    cols="10" 
                                    rows="4" 
                                    class="form-control"></textarea>
                            </div>
            
                                
                          
            
                            <div *ngIf="editorCreate">
                           
                                <button                        
                                    class="btn btn-primary"
                                    
                                    [disabled]="!form?.['valid']">
                               
                                    Submit
                                </button>
                            </div>
                        </div>
                        
        
                    </form>
                </div>
            </div>
            <div class="row mar">
                <div *ngFor="let proy of proyectos" id="{{proy.proyecto_id}}">
                    
                    <div  class="tarjeta" @slideLeft  *ngIf="!proy.deleted">
        
                        <div class="row" *ngIf="!proy.editor || !proy.visible">
                     
                            <div class="tar-body col-xl-11" *ngIf="!proy.editor || proy.visible">
                                <h4 class="card-title">{{proy.nombre}}</h4>
                                <br>
                                <p class="data-about">{{proy.about}}</p>
                                <br>
                                <h6 class="card-text">Fecha de inicio: {{proy.fecha_inicio}}</h6>
                                <h6 class="card-text"> <a href="{{proy.url}}">{{proy.url}}</a></h6>
                                                       
                                
                            </div>
                            <div class="tar-brud col-xl-1" *ngIf="isAdmin()">
                               
                                <button class="btn btn-info" (click)="callEditorEdit(proy.proyecto_id)" title="Editar entrada">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                    <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                    </svg>
                                </button>
                                <button class="btn btn-danger" (click)="delProyecto(proy.proyecto_id)" title="Borrar entrada">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"/>
                                        <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"/>
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="row p-2" *ngIf="!proy.editor || !proy.visible">
                           
                            <h5 class="card-text">Github:</h5>
                                <h6 class="card-text"><a href="{{proy.url_github_1}}">{{proy.url_github_1}}</a></h6>
                                <h6 class="card-text"><a href="{{proy.url_github_2}}">{{proy.url_github_2}}</a></h6>
                        </div>
                        
                        <div *ngIf="!proy.editor || !proy.visible">
                            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                                <ol class="carousel-indicators">
                                  <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                                  <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                                  <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                                  <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
                                </ol>
                                <div class="carousel-inner">
                                  <div class="carousel-item active">
                                    <img class="d-block w-100" src="{{proy.url_img_1}}" alt="First slide">
                                  </div>
                                  <div class="carousel-item">
                                    <img class="d-block w-100" src="{{proy.url_img_2}}" alt="Second slide">
                                  </div>
                                  <div class="carousel-item">
                                    <img class="d-block w-100" src="{{proy.url_img_3}}" alt="Third slide">
                                  </div>
                                  <div class="carousel-item">
                                    <img class="d-block w-100" src="{{proy.url_img_4}}" alt="Third slide">
                                  </div>
                                </div>
                                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                  <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                  <span class="sr-only">Next</span>
                                </a>
                              </div>
                        </div>
                      
                      
        
                        
        
            
            
                        <div class="editor" *ngIf="proy.editor && proy.visible">
            
                            <form #form="ngForm" (ngSubmit)="submitForm(form, proy.proyecto_id)" @fade>
                
                                <div class="form-group row">
        
                                    <div class="col-sm-3 form-data">
                                        <label for="nombre">Nombre:</label>
                                                    <input
                                                        [attr.required]="postOrPatch ? postOrPatch: null"
                                                        minlength="5"
                                                        maxlength="15"
                                                        type="text"
                                                        ngModel
                                                        placeholder="{{proy.nombre}}"
                                                        name="nombre"
                                                        #nombre="ngModel"
                                                        id="nombre"
                                                        class="form-control form-url">
                                                    <div 
                                                        class="alert alert-danger" 
                                                        *ngIf="nombre.touched && !nombre.valid">
                                                    <div *ngIf="nombre.errors?.['required']">
                                                        Debe introducir el nombre</div>
                                                    <div *ngIf="nombre.errors?.['minlength']">
                                                        El nombre debe tener un míńimo de {{ nombre.errors?.['minlength'].requiredLength }} caracteres</div>
                                                     <div *ngIf="nombre.errors?.['pattern']">
                                                        El nombre sólo debe tener letras del alfabeto</div>
                                                    </div>
                                    </div>
                                    
                                    <div class="form-group col-sm-3">
                                        <label for="fecha_inicio">Fecha de inicio</label>
                                        <input
                                            [attr.required]="postOrPatch ? postOrPatch: null"
                                            class="form-control form-data fecha" 
                                            type="date"
                                            ngModel
                                            pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}"    
                                            name="fecha_inicio"                                                                       
                                            #fecha_inicio="ngModel"
                                            id="fecha_inicio">
                                    </div>

                                    <div class="form-group col-sm-3">
                                        <label for="url">URL:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url"
                                                #url="ngModel"
                                                id="url"
                                                type="text"
                                                placeholder="{{proy.url}}">
                                    </div>
        
                                    <div class="tar-crud col-sm-2 pl-2" *ngIf="isAdmin()">
                               
                                        <button class="btn btn-info" (click)="callEditorEdit(proy.proyecto_id)" title="Editar entrada">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                            </svg>
                                        </button>
                                        <button class="btn btn-danger" (click)="delProyecto(proy.proyecto_id)" title="Borrar entrada">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
                                                <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"/>
                                                <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"/>
                                            </svg>
                                        </button>
                                    </div>
                                    
                
                                    
                
                                
                
                                </div>
                                <br>
                
                                <div class="form-group row">
                
                                    <div class="form-group col-md-3">
                                        <label for="url_img_1">Foto 1:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url_img_1"
                                                #url_img_1="ngModel"
                                                id="url_img_1"
                                                type="text"
                                                placeholder="{{proy.url_img_1}}">
                                    </div>

                                    <div class="form-group col-md-3">
                                        <label for="url_img_2">Foto 2:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url_img_2"
                                                #url_img_2="ngModel"
                                                id="url_img_2"
                                                type="text"
                                                placeholder="{{proy.url_img_2}}">
                                    </div>

                                    <div class="form-group col-md-3">
                                        <label for="url_img_3">Foto 3:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url_img_3"
                                                #url_img_3="ngModel"
                                                id="url_img_3"
                                                type="text"
                                                placeholder="{{proy.url_img_3}}">
                                    </div>
                
                                    
                
                                    
                                    
                                </div>
                                <br>
                                
                                <div class="row">

                                    <div class="form-group col-sm-3">
                                        <label for="url_img_4">Foto 4:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url_img_4"
                                                #url_img_4="ngModel"
                                                id="url_img_4"
                                                type="text"
                                                placeholder="{{proy.url_img_4}}">
                                    </div>

                                    <div class="form-group col-sm-3">
                                        <label for="url_github_1">URL github:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url_github_1"
                                                #url_github_1="ngModel"
                                                id="url_github_1"
                                                type="text"
                                                placeholder="{{proy.url_github_1}}">
                                    </div>

                                    <div class="form-group col-sm-3">
                                        <label for="url_github_2">URL github 2:</label>
                                        <input
                                                [attr.required]="postOrPatch ? postOrPatch: null" 
                                                ngModel
                                                class="form-control form-url"
                                                name="url_github_2"
                                                #url_github_2="ngModel"
                                                id="url_github_2"
                                                type="text"
                                                placeholder="{{proy.url_github_2}}">
                                    </div>

                                </div>
                                                       
         
                
                                <div class="form-group">
                                    <label for="about">Descripción del proyecto:</label>
                                    <textarea
                                        [attr.required]="postOrPatch ? postOrPatch: null"  
                                        ngModel 
                                        name="about" 
                                        id="about" 
                                        cols="10" 
                                        rows="4" 
                                        class="form-control about"
                                        placeholder="{{proy.about}}"></textarea>
                                </div>
                
                                    
                              
                
                                <div >
                                
                                    <button                        
                                        class="btn btn-primary"
                                        
                                        [disabled]="!form?.['valid']">
                                   
                                        Submit
                                    </button>
                                </div>
                
                            </form>
                        </div>
                       
        
                    </div>
                    
            
                </div>
        
               
               
            </div>
        
        </div>
    </div>
    <div class="col-md-1"></div>
</div>
